\section{Executables}
\label{exe:main}

\subsection{The Compiler}
\label{exe:gpegc}

The gpeg grammar compiler is called 'gpegc'.
It takes a grammar file as input, and outputs assembly text.
It can be invoked as follows:

\begin{myquote}
\begin{verbatim}
$ gpegc -i myfile.niag -o myfile.asm
\end{verbatim}
\end{myquote}
\textit{Example of the invocation of the gpeg grammar compiler}

Bear in mind that both the input (grammar) file, as well as the
output (assembly) file may be omitted (in which case they will be
assumed to be stdin and stdout, respectively), or be denoted as
a minus sign ('-'), which will have the same effect.

You may also use the following options:

\begin{itemize}
\item \texttt{-m $<$path$>$} Tells the compiler to emit the slotmap
      file in $<$path$>$.
\item \texttt{-D} Creates a lot of debugging output.
\item \texttt{-t} Tells the compiler to surround generated rule
      code with 'trap' instructions.
\end{itemize}

\subsection{The Assembler}
\label{exe:gpega}

The gpeg grammar assember is called 'gpega'.
It takes an assembly file as input, and outputs bytecode.
It can be invoked as follows:

\begin{myquote}
\begin{verbatim}
$ gpega -i myfile.asm -o myfile.byc
\end{verbatim}
\end{myquote}
\textit{Example of the invocation of the gpeg assembler}

Bear in mind that both the input (assembly) file, as well as the
output (bytecode) file may be omitted (in which case they will be
assumed to be stdin and stdout, respectively), or be denoted as
a minus sign ('-'), which will have the same effect.

You may also use the following options:

\begin{itemize}
\item \texttt{-l $<$path$>$} Tells the assembler to emit the labelmap
      file in $<$path$>$.
\item \texttt{-D} Creates a lot of debugging output.
\end{itemize}

\subsection{The Engine}

The gpeg bytecode execution engine is called 'gpege'.
It takes a bytecode file as input, as well as an input file.
It can be invoked as follows:

\begin{myquote}
\begin{verbatim}
$ gpege -c myfile.byc -i myfile.dat -o myfile.out
\end{verbatim}
\end{myquote}
\textit{Example of the invocation of the gpeg engine}

\subsection{The Disassembler}

The gpeg disassembler is called 'gpegd'.
It takes a bytecode file as input, and outputs assembly.

\begin{myquote}
\begin{verbatim}
$ gpegd -i myfile.byc -o myfile.asm
\end{verbatim}
\end{myquote}
\textit{Example of the invocation of the gpeg disassembler}

The output of the disassembler will differ from the assembly
generated by the compiler in that:

\begin{itemize}
\item Textual labels will be gone, instead:
\item Every instruction will be prefixed by a numeric label which
      is identical to that instruction's position offset in the bytecode, and
\item All jumps will therefore also be using those position labels.
\end{itemize}

For example, given the following grammar:

\begin{myquote}
\begin{verbatim}
RULE <- ( 'a' / 'b' )+
\end{verbatim}
\end{myquote}

Resulting in the following assembly:

\begin{myquote}
\begin{verbatim}
  call RULE
  end 0

RULE:
  catch __L1
  char 61
  commit __L2
__L1:
  char 62
__L2:
  catch __L3
__L4:
  catch __L5
  char 61
  commit __L6
__L5:
  char 62
__L6:
  partialcommit __L4
__L3:
  ret
\end{verbatim}
\end{myquote}

After compilation, this is the output of the disassembler:

\begin{myquote}
\begin{verbatim}
0: call 16
8: end 0
16: catch 40
24: char 61
32: commit 48
40: char 62
48: catch 96
56: catch 80
64: char 61
72: commit 88
80: char 62
88: partialcommit 56
96: ret
\end{verbatim}
\end{myquote}

